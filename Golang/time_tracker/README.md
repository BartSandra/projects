# Time Tracker API

## Описание

Time Tracker API - это RESTful API, разработанный на Go. Он предоставляет функциональность для отслеживания времени, потраченного пользователями на различные задачи.

## Особенности

- Получение списка всех пользователей
- Получение информации о конкретном пользователе
- Создание нового пользователя
- Удаление пользователя
- Обновление информации о пользователе
- Начало отсчета времени по задаче для пользователя
- Завершение отсчета времени по задаче для пользователя
- Получение списка задач пользователя за определенный период
- Получение общего времени, потраченного пользователем на задачи за определенный период

## Технологии

- Язык программирования: Go
- База данных: PostgreSQL
- Библиотеки: Gorilla Mux (для маршрутизации), pq (для взаимодействия с PostgreSQL)

## Конфигурация

Проект использует файл `.env` для хранения конфигурационных данных. Это позволяет легко изменять конфигурацию без необходимости изменять код.

Вот пример того, как может выглядеть ваш файл `.env`:

```env
DB_USER=your_database_user
DB_PASSWORD=your_database_password
DB_NAME=your_database_name
DB_HOST=your_database_host
DB_PORT=your_database_port
```

Замените your_database_user, your_database_password, your_database_name, your_database_host и your_database_port на соответствующие значения для вашей базы данных.

## Установка и запуск

1. Установите Go и PostgreSQL, если у вас их еще нет.
2. Docker (для Swagger UI).
3. Клонируйте этот репозиторий.
4. Перейдите в каталог проекта.
5. Установите зависимости с помощью команды `go get`.
6. Создайте базу данных в PostgreSQL и обновите файл `.env` с правильными данными для подключения к базе данных.
7. Запустите проект с помощью команды `go run main.go`. Это запустит сервер на порту 8080.

## Использование Swagger UI для просмотра документации API
Запустите Swagger UI с помощью Docker:

1. Запустите Swagger UI для вашего API тайм-трекера:

```
docker run -p 80:8080 -e SWAGGER_JSON=/foo/time_tracker.yaml -v /путь/к/вашему/каталогу/time_tracker:/foo swaggerapi/swagger-ui
```

Запустите Swagger UI для внешнего API:
```
docker run -p 81:8080 -e SWAGGER_JSON=/foo/swagger.yaml -v /путь/к/вашему/каталогу/time_tracker:/foo swaggerapi/swagger-ui
```

В этих командах замените /путь/к/вашему/каталогу/time_tracker на путь к каталогу проекта на вашем компьютере.

2. Откройте веб-браузер и перейдите по адресу http://localhost:80 для просмотра документации API тайм-трекера и http://localhost:81 для просмотра документации внешнего API.(Введите /swagger/swagger.yaml в поле для URL и нажмите кнопку “Explore”.)

## Использование API

API поддерживает следующие HTTP-запросы:

- `GET /users`: Возвращает список всех пользователей.
- `GET /users/{id}`: Возвращает пользователя с указанным ID.
- `POST /users/{id}`: Создает нового пользователя с указанным ID. Тело запроса должно содержать данные пользователя в формате JSON.
- `DELETE /users/{id}`: Удаляет пользователя с указанным ID.
- `PUT /users/{id}`: Обновляет пользователя с указанным ID. Тело запроса должно содержать обновленные данные пользователя в формате JSON.
