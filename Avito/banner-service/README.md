# Баннер-Сервис

Баннер-Сервис — это веб-приложение для управления рекламными баннерами, позволяющее отображать пользователям баннеры в зависимости от их фич и тегов.

## Основные функции

- **Аутентификация пользователя:** Различие между обычными пользователями и администраторами с помощью JWT токенов.
- **Управление баннерами:** Создание, чтение, обновление и удаление баннеров.
- **Фильтрация баннеров:** Вывод баннеров в зависимости от фичи и тега пользователя.

## Технологии

- **Go (Golang):** Основной язык программирования.
- **PostgreSQL:** Система управления базами данных.
- **Gorilla Mux:** HTTP router и dispatcher для Go.

## Настройка и запуск

### Требования

Для запуска проекта у вас должны быть установлены:
- Go (версия 1.15 или выше)
- PostgreSQL (версия 12 или выше)

### Конфигурация

Перед началом работы необходимо настроить переменные окружения в файле `.env`:

```env
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=yourpassword
DB_NAME=banner_service
PORT=8080
JWT_SECRET=your_jwt_secret
```

### Запуск миграций

Перед первым запуском сервиса выполните миграции базы данных:

```
go run cmd/migrate.go
```

### Запуск сервера

Для запуска сервера выполните:

```
go run cmd/main.go
```

### Использование API

После запуска сервера API будет доступен по адресу http://localhost:8080.

#### Эндпоинты:
- POST /signin - аутентификация пользователя и получение JWT.   
- GET /user_banner?feature_id=1&tag_id=10 - получение баннера для пользователя.   
- POST /banner - создание нового баннера (только для админов).   
- PATCH /banner/{id} - обновление баннера (только для админов).   
- DELETE /banner/{id} - удаление баннера (только для админов).   

### Тестирование
Для запуска тестов выполните:

```
go test -v ./...
```




